# Docker Compose override for 5North DevNet
# Usage: docker compose -f docker-compose.local.yaml -f docker-compose.devnet.yaml up -d
#
# This overlay:
# - Disables local Canton, Anvil, deployer (using 5North hosted participant + Sepolia)
# - Disables mock-oauth2 and bootstrap (not needed for devnet)
# - Keeps Postgres for relayer state
# - Uses config.devnet.yaml

services:
  # Disable local services - using 5North hosted participant
  canton:
    profiles: ["disabled"]

  anvil:
    profiles: ["disabled"]

  deployer:
    profiles: ["disabled"]

  mock-oauth2:
    profiles: ["disabled"]

  bootstrap:
    profiles: ["disabled"]

  relayer:
    build:
      context: .
      dockerfile: Dockerfile
    depends_on:
      postgres:
        condition: service_healthy
    volumes:
      - ./config.devnet.yaml:/app/config.yaml:ro

  # Postgres stays enabled for relayer state
